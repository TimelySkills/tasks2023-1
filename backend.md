
# Задания для Backend

## Разработать программу калькулятора с поддержкой ввода арифметического выражения.  

Арифметическое выражение - состоит из чисел, знаков арифметических операций, скобок, которые показывают приоритет операции. 

Арифметическая операция состоит из первого операнда, знака арифметической операции, второго операнда. 

Операнд это целое число участвующее в операции. 

Программа должна поддерживать следующие операции: 

- \+ "Сложение"  

- \- "Вычитание" 

- \* "Умножение"  

- / "Деление" 

### Программа должна вычислять арифметическое выражение, следуя правилам: 

- выражения в скобках имеют приоритет перед выражениями без скобок, количество уровней вложенных скобок не ограниченно, общее количество открывающих и закрывающих скобок в выражении должно быть четным, если это не так, то программа должна прекратить расчет и вывести сообщение об ошибке **"Выражение не корректно" "Expression is invalid"**.	  

- операции * и / имеют более высокий приоритет чем операции + и - 

- операция / в которой второй операнд равен 0 должна приводить к остановке расчета всего выражения с сообщением для пользователя **"На 0 делить нельзя", "Divde by zero is fail"**.   

- операции с одним операндом не допускаются если программа встретит такую операцию в выражении, то расчет должен прекратиться, программа должна вывести сообщение **"Выражение не корректно" "Expression is invalid"**. После этого программа переходит в режим ожидания ввода выражения 

### Тест кейсы: 

   - расчет выражения 2+2*2 должен выдать резальтат 6 

   - расчет выражения (12-3)+3*5 должен выдать результат 24 

   - расчет выражения 2*(12-9+(23-41)) должен выдать результат -30 

Программу дополнить функционалом, сохранения посчитанных арифметических выражений в БД SQLITE или любую другую реляционную БД на ваш выбор. Программу надо реализовать с помощью ООП подхода с использованием основных принципов: наследования, инкапсуляции, полиморфизма. Плюсом будет использование в качестве интерфейса взаимодействия с программой телеграмм бота 

## Реализовать программу - чат нескольких пользователей. 

Программа должна позволять нескольким пользователям, обмениваться текстовыми сообщениями между собой в виде чата, отправленные сообщения могут видеть все пользователи подключившиеся к чату, для подключения необходимо указать имя (ник), IP адрес и порт сервера. 

Если пользователь с таким ником уже есть в чате к нику должен добавиться суффикс в виде числа пользователей в чате с таким же именем + 1, например **Адам(1)** означает что в чате есть 2 пользователя с ником Адам.  

Каждое сообщение отправляемое в чат,  должно содержать дату время отправки, ник отправителя, текст сообщения.  

Приложение должно быть клиент-серверное и использовать любую из известных вам технологий сетевого взаимодействия. 

Приложение должно хранить историю сообщений чата в реляционной БД. 

Клиентская часть, программы должна быть графической, с использованием WPF или Windows Forms, серверная часть программы должна быть консольной. 

При отправке сообщения, оно должно отобразиться на сервере в консоли, отправиться всем подключенным пользователям, а так же записаться в лог. Логирование должно производиться в реляционную БД.  

При разработке программы должны быть использованы основные принципы ООП инкапсуляция, полиморфизм, наследование. 

### Требования к серверной части программы: 

Программа сервер, далее ПС, должна быть реализована как консольное приложение. 

ПС должна сохранять все сообщения в БД. ПС должна принимать запросы на подключения от клиентских программ и устанавливать подключение при этом всем подключенным в этот момент клиентам должно отправиться сообщение, "Пользователь <Ник пользователя> вошел в чат".  

ПС должна обрабатывать запросы на отключение, выход из чата, при этом после отключения пользователя ПС должна отправить всем подключенным пользователям сообщение, "Пользователь <Ник пользователя> покинул чат". После этого ПС должна разорвать соединение с пользователем, который инициировал отключение. 

### Требования к клиентской части: 

Клиентская часть программы, далее КП, должна предоставлять пользователю интерфейс для ввода адреса сервера, порта сервера, ника (имени пользователя в чате (может содержать латинские или кириллические символы, цифры и символы пробела)), текста сообщения. 

Так же КП должна предоставлять интерфейс для отправки запроса на отключения от сервера, КП должна блокировать окно ввода сообщения и отправку сообщений пока КП находится в отключенном состоянии. 

 

### Тест кейсы  

- не запуская ПС попытаться отправить сообщение. нет возможности совершить это действие элементы UI заблокированы. 

- не запуская ПС попытаться войти в чат. Сообщение об ошибке "Сервер не отвечает". 

- запустить ПС, запустить 2 экземпляра КП подключившись к ПС. В 1 экземпляре КП отправить сообщение "Hello world". ожидаемое  

**1. экземпляр КП должен иметь текст:**

<p style="text-align:center"><Дата время> Пользователь КС2 вошел в чат</p>


<p style="text-align:center"><Дата время> Пользователь КС2 Hello world</p>

**2. экземпляр КП должен иметь текст:** 

<p style="text-align:center"><Дата время> Пользователь КС2 Hello world</p>

**ПС консоль ложна содержать следующий текст:** 

<p style="text-align:center"><Дата время> Пользователь КС1 вошел в чат</p>

<p style="text-align:center"><Дата время> Пользователь КС2 вошел в чат</p>

<p style="text-align:center"><Дата время> Пользователь КС2 Hello world</p>

## Реализовать программу заполнения шаблонов документов. 

Программа должна дать возможность заполнить шаблон документа MS Word пользовательскими данными. 

Программа должна быть реализована в виде графической программы с использованием технологии WPF или Windows Forms с использованием ООП принципов: наследования, инкапсуляции, полиморфизма. 

Программа должна давать интерфейс выбора файла, формата .docx, в качестве шаблона из пользовательских файлов с жесткого диска компьютера пользователя. 

При загрузке файла программа должна произвести парсинг текста в файле и найти все включения шаблонных строк и записать их в список С1. Шаблонная строка это строка, начинающаяся с символа |#, содержащая любое количество доступных символов и цифр и заканчивающаяся символом #|.  

После парсинга текста документа, программа должна изменить свой графический интерфейс следующим образом: 

Для каждого элемента из полученного списка С1, программа должна создать компонент графического интерфейса, состоящий из текстового поля и поля ввода. Текстовому полю (label) программа должна присвоить текст равный тексту элемента списка С1, для которого создается компонент. Программа должна сформировать новый список С2 состоящий из элемента исходного списка С1 и созданного компонента. Программа должна отобразить весь список созданных элементов на форме пользовательского интерфейса. Программа должна дать возможность пользователю показанные на предыдущем шаге поля. Программа должна дать возможность пользователю после заполнения сгенерированных полей запустить процесс замены текста. Процесс замены текста должен быть реализован следующим образом: 

Для каждого элемента из списка С2 программа должна найти в файле все включения текста шаблона и заменить его на текст, который ввел пользователь, при этом если пользователь оставил поле пустое или ввел пробелы, такой текст программа должна заменять на 8 пробелов. После того как процесс замены будет завершен программа должна предложить пользователю выбор директории для сохранения отредактированного файла, открыв стандартное окно Windows для выбора пути. Если пользователь выберет корректный путь и нажмет кнопку Ок, то программа должна создать файл с указанными пользователем именем по указанному пользователем пути и сохранить модифицированный шаблон. Если пользователь нажал отмена, то программа должна перейти в особый режим, в котором она будет ожидать следующего действия пользователя: 

- запуск процесса замены, не заменяя ничего предлагает пользователю выбрать путь для сохранения имеющегося в памяти отредактированного файла. 

- редактирование любого из доступных полей сбрасывает режим и при запуске процесса замены ведет себя как описано в общей части задания. 

- закрывает программу, программа просит подтвердить выход из программы если пользователь подтверждает свое действие, то программа закрывается, иначе переходит в состояние бывшее до этого шага. 

## Реализовать простое веб приложение для приема заказов на доставку посылок. 

Приложение должно состоять из двух страниц 

1. Страница с формой создания нового заказа (все поля обязательны для заполнения): 

    - ФИО отправителя 

    - Город отправителя 

    - Адрес отправителя 

    - ФИО получателя 

    - Город получателя 

    - Адрес получателя 

    - Вес посылки 

    - Дата отправки 

2. Страница со списком принятых заказов отображает все данные заказа введенные пользователем и номер заказа сгенерированный системой  

### Заказы должны отображаться в виде списка состоящего из строк вида: 

    "<Номер заказа из системы> <ФИО отправителя> <Город отправителя>  
    <Адрес отправителя> <ФИО получателя> <Город получателя> <Адрес получателя> <Вес посылки> <Дата отправки>" 

### Реализовать прилложение необходимо с использованием следующих технологий: 

- ASP NET Core MVC 

- Можно использовать любую реляционную базу данных EF Core 

- При разработке нужно использовать Onion архитектуру 